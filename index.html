<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>A-Frame</title>
    <meta name="description" content="A-Frame">
    <script src="./aframe-master.min.js"></script>
    <script src="./aframe-environment-component.min.js"></script>
    <script src="./aframe-animation-component.min.js"></script>
    <script src="./a-mmd.min.js"></script>
    <script src="./util.js"></script>
</head>

<body>
    <a-scene>
        <a-entity environment="preset: forest">
            <a-entity position="0 0.75 0">
                <a-camera id='camera' look-controls wasd-controls="fly:true">
                    <a-circle id='loader' position="0 0 -1" color="#CCC" radius="0.01" animation__geometry_start='property:geometry.radius; from:0.01; to:0.03;dur:500;dir: alternate;loop: true;startEvents:load-start;pauseEvents:load-finish,load-fail;'
                        animation__opacity_start='property:material.opacity; from:0; to:1; dur:100;startEvents:load-start;' animation__opacity_stop='property:material.opacity; to:0; dur:100;startEvents:load-finish,load-fail;'></a-circle>
                </a-camera>
            </a-entity>
            <a-entity id='mmd-container' position="0 1.5 -4" geometry="primitive: sphere; radius: 1.5" material="color:#FFF;opacity:0">
                <a-entity id='mmd' event-proxy="events:load-start,load-finish,load-fail;target:#loader"
                    mmd="audio:./mmd/miku/mmd.mp3; model:./mmd/miku/mmd.pmx; motion:./mmd/miku/mmd.vmd;physics:true;autoplay:true;listener:#camera">
                </a-entity>
            </a-entity>
        </a-entity>
    </a-scene>
</body>

</html>
